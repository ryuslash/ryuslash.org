{% extends "aggregator/base.html" %}
{% load comments %}

{% block head %}
<link href="/static/comments.css" type="text/css" rel="stylesheet" />
{% endblock %}

{% block content %}
{% include "aggregator/post_content.html" with post=object %}

{% get_comment_count for object as comment_count %}
{% if comment_count > 0 %}
  {% render_comment_list for object %}
{% endif %}

{% render_comment_form for object %}

<div id="pager">
  {% with next=object.get_next_by_updated previous=object.get_previous_by_updated %}
    {% if previous %}
      <div class="nav-prev">
        <a href="/post/{{ previous.pk }}/" id="previous">
          {{ previous.title }}</a>
      </div>
    {% endif %}

    {% if next %}
      <div class="nav-next">
        <a href="/post/{{ next.pk }}/" id="next">{{ next.title }}</a>
      </div>
    {% endif %}
  {% endwith %}
  <div class="clear"></div>

</div>
{% endblock %}
